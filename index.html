<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CV WASM — Samuel Colman Lombardo</title>
</head>
<body>
<div id="root">Cargando CV…</div>

<script src="cv.js"></script>
<script>
Module.onRuntimeInitialized = () => {
  // Crea un wrapper JS de la función WASM
  const generateCV = Module.cwrap('generate_cv_html', 'number', []);

  // Llamar a la función
  const htmlPtr = generateCV();

  // Convertir puntero a string
  const htmlStr = Module.UTF8ToString(htmlPtr);

  document.open();
  document.write(htmlStr);
  document.close();

  // Liberar memoria
  Module._free_buffer(htmlPtr);
};
</script>
</body>
</html>
